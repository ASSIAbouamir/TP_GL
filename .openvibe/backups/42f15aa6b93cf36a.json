{
  "id": "42f15aa6b93cf36a",
  "filePath": "c:\\Users\\Hp\\Desktop\\TP_GL\\pipline.md",
  "timestamp": 1764458255634,
  "originalContent": "# ğŸ”„ Diagramme Visuel du Pipeline\r\n\r\n## Vue d'Ensemble SimplifiÃ©e\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    GÃ‰NÃ‰RATION D'Ã‰CRITURE MANUSCRITE               â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nINPUT: Texte (\"Hello World\")\r\n         â”‚\r\n         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n         â”‚                                   â”‚                          â”‚\r\n         â–¼                                   â–¼                          â–¼\r\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n    â”‚   GAN   â”‚                        â”‚ RENDU  â”‚              â”‚   RNN   â”‚\r\n    â”‚ (cGAN)  â”‚                        â”‚STYLISÃ‰  â”‚              â”‚ / LSTM  â”‚\r\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n         â”‚                                   â”‚                          â”‚\r\n         â”‚                                   â”‚                          â”‚\r\n         â–¼                                   â–¼                          â–¼\r\n    Image 128Ã—128                      Image stylisÃ©e            Strokes gÃ©nÃ©rÃ©s\r\n    (apprise)                          (polices + effets)        (sÃ©quences)\r\n         â”‚                                   â”‚                          â”‚\r\n         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n                         â”‚\r\n                         â–¼\r\n                    OUTPUT: Image d'Ã©criture manuscrite\r\n```\r\n\r\n---\r\n\r\n## Pipeline Complet de PrÃ©paration des DonnÃ©es\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    PRÃ‰PARATION DES DONNÃ‰ES                     â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nDataset IAM (Brut)\r\nâ”‚\r\nâ”œâ”€ data/raw/ascii/*.txt\r\nâ”‚  â””â”€ Transcriptions: \"Hello World\"\r\nâ”‚\r\nâ”œâ”€ data/raw/lineStrokes/*.xml\r\nâ”‚  â””â”€ Strokes XML: <Stroke><Point x=\"100\" y=\"200\"/></Stroke>\r\nâ”‚\r\nâ””â”€ data/raw/original-xml/*.xml\r\n   â””â”€ MÃ©tadonnÃ©es: writerID, etc.\r\n\r\n         â”‚\r\n         â”‚ prepare_data.py\r\n         â–¼\r\n\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  TRAITEMENT DES STROKES                                     â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  XML â†’ CoordonnÃ©es (x, y, eos)                              â”‚\r\nâ”‚    â”‚                                                         â”‚\r\nâ”‚    â”œâ”€ align()      â†’ Correction inclinaison                 â”‚\r\nâ”‚    â”œâ”€ denoise()     â†’ Lissage Savitzky-Golay                â”‚\r\nâ”‚    â”œâ”€ coords_to_offsets() â†’ Conversion en dÃ©placements      â”‚\r\nâ”‚    â””â”€ normalize()  â†’ Normalisation                         â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  RÃ©sultat: [dx, dy, eos] normalisÃ©s                          â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n         â”‚\r\n         â”‚\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  TRAITEMENT DES TRANSCRIPTIONS                               â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  ASCII â†’ Texte brut                                          â”‚\r\nâ”‚    â”‚                                                         â”‚\r\nâ”‚    â””â”€ encode_ascii() â†’ Indices dans alphabet                â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  RÃ©sultat: [char_idx1, char_idx2, ...]                      â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n         â”‚\r\n         â”‚\r\n         â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  SAUVEGARDE (data/processed/)                                â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  x.npy      â†’ Strokes: (N, 1200, 3)                         â”‚\r\nâ”‚  x_len.npy  â†’ Longueurs: (N,)                               â”‚\r\nâ”‚  c.npy      â†’ Transcriptions: (N, 75)                        â”‚\r\nâ”‚  c_len.npy  â†’ Longueurs textes: (N,)                        â”‚\r\nâ”‚  w_id.npy   â†’ IDs Ã©crivains: (N,)                           â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\n---\r\n\r\n## Architecture du GAN\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    GÃ‰NÃ‰RATEUR (Generator)                     â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nInput:\r\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n  â”‚  Noise  â”‚         â”‚   Text   â”‚\r\n  â”‚ (100-D) â”‚         â”‚ (20 chars)â”‚\r\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n       â”‚                   â”‚\r\n       â”‚                   â–¼\r\n       â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n       â”‚            â”‚  Embedding  â”‚\r\n       â”‚            â”‚  (20Ã—128)    â”‚\r\n       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n       â”‚                   â”‚\r\n       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n               â”‚\r\n               â–¼\r\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n        â”‚  ConcatÃ©nationâ”‚\r\n        â”‚  (100 + 2560)â”‚\r\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n               â”‚\r\n               â–¼\r\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n        â”‚      FC      â”‚\r\n        â”‚  (2660â†’8192) â”‚\r\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n               â”‚\r\n               â–¼\r\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n        â”‚  Reshape    â”‚\r\n        â”‚  (512,4,4)   â”‚\r\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n               â”‚\r\n               â–¼\r\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n    â”‚  Upsampling Progressifâ”‚\r\n    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\n    â”‚  4Ã—4  â†’  8Ã—8         â”‚\r\n    â”‚  8Ã—8  â†’ 16Ã—16        â”‚\r\n    â”‚ 16Ã—16 â†’ 32Ã—32        â”‚\r\n    â”‚ 32Ã—32 â†’ 64Ã—64        â”‚\r\n    â”‚ 64Ã—64 â†’ 128Ã—128      â”‚\r\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n               â”‚\r\n               â–¼\r\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n        â”‚   Output     â”‚\r\n        â”‚ (1,128,128)  â”‚\r\n        â”‚   [-1, 1]    â”‚\r\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\n\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                 DISCRIMINATEUR (Discriminator)                  â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nInput:\r\n  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n  â”‚  Image  â”‚         â”‚   Text   â”‚\r\n  â”‚(128Ã—128)â”‚         â”‚(20 chars)â”‚\r\n  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n       â”‚                   â”‚\r\n       â–¼                   â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  Conv Blocks â”‚    â”‚  Embedding   â”‚\r\nâ”‚  (Downsample)â”‚    â”‚  (20Ã—128)    â”‚\r\nâ”‚              â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\nâ”‚  128â†’64      â”‚           â”‚\r\nâ”‚  64â†’32       â”‚           â–¼\r\nâ”‚  32â†’16       â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  16â†’8        â”‚    â”‚      FC      â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  (2560â†’32768)â”‚\r\n       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n       â”‚                   â”‚\r\n       â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n       â”‚            â”‚   Reshape    â”‚\r\n       â”‚            â”‚  (512,8,8)    â”‚\r\n       â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n       â”‚                   â”‚\r\n       â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n               â”‚\r\n               â–¼\r\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n        â”‚  ConcatÃ©nationâ”‚\r\n        â”‚  (1024,8,8)  â”‚\r\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n               â”‚\r\n               â–¼\r\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n        â”‚  Conv Final  â”‚\r\n        â”‚  (1024â†’1)   â”‚\r\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n               â”‚\r\n               â–¼\r\n        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n        â”‚   Sigmoid    â”‚\r\n        â”‚   Score      â”‚\r\n        â”‚   [0, 1]     â”‚\r\n        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\n---\r\n\r\n## Processus d'EntraÃ®nement\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    BOUCLE D'ENTRAÃNEMENT                       â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nPour chaque EPOCH:\r\n    â”‚\r\n    â””â”€ Pour chaque BATCH:\r\n           â”‚\r\n           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n           â”‚                                     â”‚\r\n           â–¼                                     â–¼\r\n    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\n    â”‚  TRAIN G     â”‚                    â”‚  TRAIN D     â”‚\r\n    â”‚ (Generator)  â”‚                    â”‚(Discriminator)â”‚\r\n    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n           â”‚                                     â”‚\r\n           â”‚ 1. GÃ©nÃ©rer images                   â”‚ 1. Ã‰valuer images rÃ©elles\r\n           â”‚    z = randn(100)                   â”‚    real_score = D(real_img, text)\r\n           â”‚    gen_img = G(z, text)              â”‚\r\n           â”‚                                     â”‚ 2. Ã‰valuer images gÃ©nÃ©rÃ©es\r\n           â”‚ 2. Calculer loss                    â”‚    fake_score = D(gen_img, text)\r\n           â”‚    g_loss = MSE(D(gen_img), 1)      â”‚\r\n           â”‚                                     â”‚ 3. Calculer loss\r\n           â”‚ 3. Backprop                          â”‚    d_loss = 0.5*(MSE(real,1) + MSE(fake,0))\r\n           â”‚    g_loss.backward()                 â”‚\r\n           â”‚    optimizer_G.step()                â”‚ 4. Backprop\r\n           â”‚                                     â”‚    d_loss.backward()\r\n           â”‚                                     â”‚    optimizer_D.step()\r\n           â”‚                                     â”‚\r\n           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n                       â”‚\r\n                       â–¼\r\n              Sauvegarde checkpoints\r\n              (tous les 5 epochs)\r\n```\r\n\r\n---\r\n\r\n## Conversion Strokes â†’ Image (dans Dataset)\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚          CONVERSION STROKES â†’ IMAGE (IAMDataset)               â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nInput: Strokes (offsets)\r\n  [dxâ‚, dyâ‚, 0]  â†’  Point 1\r\n  [dxâ‚‚, dyâ‚‚, 0]  â†’  Point 2\r\n  [dxâ‚ƒ, dyâ‚ƒ, 1]  â†’  Point 3 (fin de trait)\r\n  [dxâ‚„, dyâ‚„, 0]  â†’  Point 4\r\n  ...\r\n\r\n         â”‚\r\n         â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  Ã‰TAPE 1: Conversion Offsets â†’ CoordonnÃ©es                   â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  coords = cumsum(offsets[:, :2])                            â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  RÃ©sultat:                                                   â”‚\r\nâ”‚    [xâ‚, yâ‚, 0]                                               â”‚\r\nâ”‚    [xâ‚‚, yâ‚‚, 0]                                               â”‚\r\nâ”‚    [xâ‚ƒ, yâ‚ƒ, 1]  â† Fin de trait                             â”‚\r\nâ”‚    [xâ‚„, yâ‚„, 0]                                               â”‚\r\nâ”‚    ...                                                       â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n         â”‚\r\n         â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  Ã‰TAPE 2: Normalisation et Centrage                         â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  1. Calculer min/max:                                       â”‚\r\nâ”‚     min_x, min_y = min(coords)                              â”‚\r\nâ”‚     max_x, max_y = max(coords)                              â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  2. Calculer scale:                                         â”‚\r\nâ”‚     scale = min(target_size/width, target_size/height)      â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  3. Centrer et redimensionner:                               â”‚\r\nâ”‚     coords = (coords - [min_x, min_y]) * scale + padding   â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  RÃ©sultat: CoordonnÃ©es dans [0, 128]                        â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n         â”‚\r\n         â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  Ã‰TAPE 3: Dessin avec PIL                                   â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  img = Image.new('L', (128, 128), color=255)  # Fond blanc    â”‚\r\nâ”‚  draw = ImageDraw.Draw(img)                                 â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  Pour chaque trait (sÃ©parÃ© par eos=1):                       â”‚\r\nâ”‚    points = coords[start:end, :2]                           â”‚\r\nâ”‚    draw.line(points, fill=0, width=2)  # Noir              â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  RÃ©sultat: Image PIL 128Ã—128 (niveaux de gris)              â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n         â”‚\r\n         â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  Ã‰TAPE 4: Transformation PyTorch                            â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  transform = Compose([                                      â”‚\r\nâ”‚      ToTensor(),        # [0,255] â†’ [0,1]                   â”‚\r\nâ”‚      Normalize(0.5, 0.5)  # [0,1] â†’ [-1,1]                 â”‚\r\nâ”‚  ])                                                          â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  RÃ©sultat: Tensor (1, 128, 128) dans [-1, 1]                â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\n---\r\n\r\n## Pipeline d'Ã‰valuation (Section dÃ©taillÃ©e)\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    PIPELINE D'Ã‰VALUATION                       â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\n1. PRÃ‰PARATION\r\n   â”‚\r\n   â”œâ”€ prepare_evaluation_data.py\r\n   â”‚  â”‚\r\n   â”‚  â”œâ”€ Charger donnÃ©es IAM\r\n   â”‚  â”‚\r\n   â”‚  â”œâ”€ Pour chaque Ã©chantillon:\r\n   â”‚  â”‚  â”‚\r\n   â”‚  â”‚  â”œâ”€ GÃ©nÃ©rer image RÃ‰ELLE\r\n   â”‚  â”‚  â”‚  â””â”€ drawing.draw(strokes) â†’ evaluation/real/\r\n   â”‚  â”‚  â”‚\r\n   â”‚  â”‚  â””â”€ GÃ©nÃ©rer image GÃ‰NÃ‰RÃ‰E\r\n   â”‚  â”‚     â””â”€ renderer.render(text) â†’ evaluation/gen/\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ Sauvegarder paires d'images\r\n   â”‚\r\n   â–¼\r\n\r\n2. CALCUL DES MÃ‰TRIQUES (4 mÃ©thodes disponibles)\r\n   â”‚\r\n   â”œâ”€ MÃ©thode 1: calculate_metrics.py (Interactif) â­\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ Guide pas Ã  pas interactif\r\n   â”‚\r\n   â”œâ”€ MÃ©thode 2: streamlit_metrics.py (Interface graphique) ğŸ¨\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ Interface Streamlit avec visualisation\r\n   â”‚\r\n   â”œâ”€ MÃ©thode 3: quick_metrics.py (Rapide) âš¡\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ Chemins en dur ou variables d'environnement\r\n   â”‚\r\n   â””â”€ MÃ©thode 4: evaluate_metrics.py (AvancÃ©) ğŸ”§\r\n      â”‚\r\n      â””â”€ Options ligne de commande complÃ¨tes\r\n\r\n3. MÃ‰TRIQUES CALCULÃ‰ES\r\n   â”‚\r\n   â”œâ”€ MÃ©triques visuelles:\r\n   â”‚  â”œâ”€ FID (FrÃ©chet Inception Distance)\r\n   â”‚  â”‚  â””â”€ Inception v3 â†’ Features â†’ Distance FrÃ©chet\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ KID (Kernel Inception Distance)\r\n   â”‚     â””â”€ Inception v3 â†’ Features â†’ Kernel polynomial\r\n   â”‚\r\n   â”œâ”€ MÃ©triques de texte:\r\n   â”‚  â”œâ”€ CER (Character Error Rate)\r\n   â”‚  â”‚  â””â”€ OCR â†’ Texte â†’ Distance Levenshtein\r\n   â”‚  â”‚\r\n   â”‚  â”œâ”€ WER (Word Error Rate)\r\n   â”‚  â”‚  â””â”€ OCR â†’ Mots â†’ Distance Levenshtein\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ OCR Accuracy\r\n   â”‚     â””â”€ Pourcentage caractÃ¨res corrects\r\n   â”‚\r\n   â””â”€ MÃ©triques de similaritÃ©:\r\n      â”œâ”€ SSIM (Structural Similarity)\r\n      â”œâ”€ PSNR (Peak Signal-to-Noise Ratio)\r\n      â””â”€ LPIPS (Learned Perceptual Similarity)\r\n\r\n4. RAPPORT\r\n   â”‚\r\n   â””â”€ Sauvegarde JSON\r\n      â”œâ”€ metrics_results.json\r\n      â””â”€ metrics_results_full.json\r\n```\r\n\r\n---\r\n\r\n## Comparaison des Deux Approches\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚              GAN vs RENDU STYLISÃ‰                              â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚   GAN (cGAN)         â”‚    â”‚  RENDU STYLISÃ‰       â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                      â”‚    â”‚                      â”‚\r\nâ”‚ âœ“ Style variable     â”‚    â”‚ âœ“ ContrÃ´le prÃ©cis    â”‚\r\nâ”‚ âœ“ Apprentissage      â”‚    â”‚ âœ“ Rapide             â”‚\r\nâ”‚ âœ“ RÃ©aliste           â”‚    â”‚ âœ“ Pas d'entraÃ®nementâ”‚\r\nâ”‚                      â”‚    â”‚ âœ“ Personnalisable   â”‚\r\nâ”‚ âœ— NÃ©cessite          â”‚    â”‚                      â”‚\r\nâ”‚   entraÃ®nement       â”‚    â”‚ âœ— Style limitÃ©      â”‚\r\nâ”‚ âœ— Lent (inference)   â”‚    â”‚ âœ— Moins rÃ©aliste     â”‚\r\nâ”‚ âœ— Moins contrÃ´lable â”‚    â”‚    (selon police)    â”‚\r\nâ”‚                      â”‚    â”‚                      â”‚\r\nâ”‚ Utilisation:         â”‚    â”‚ Utilisation:         â”‚\r\nâ”‚ - GÃ©nÃ©ration         â”‚    â”‚ - Prototypage       â”‚\r\nâ”‚   crÃ©ative           â”‚    â”‚ - Applications       â”‚\r\nâ”‚ - Style unique       â”‚    â”‚   production         â”‚\r\nâ”‚                      â”‚    â”‚ - Personnalisation  â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\n---\r\n\r\n## Format des DonnÃ©es Ã  Chaque Ã‰tape\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    FORMAT DES DONNÃ‰ES                           â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\n1. DONNÃ‰ES BRUTES (IAM)\r\n   â”‚\r\n   â”œâ”€ XML Strokes:\r\n   â”‚  <Point x=\"100\" y=\"200\"/>\r\n   â”‚  â†’ CoordonnÃ©es absolues\r\n   â”‚\r\n   â””â”€ ASCII:\r\n      \"Hello World\"\r\n      â†’ Texte brut\r\n\r\n2. APRÃˆS PRÃ‰TRAITEMENT\r\n   â”‚\r\n   â”œâ”€ x.npy: (N, 1200, 3)\r\n   â”‚  [[dx, dy, eos], ...]\r\n   â”‚  â†’ Offsets normalisÃ©s\r\n   â”‚\r\n   â””â”€ c.npy: (N, 75)\r\n      [char_idx1, char_idx2, ...]\r\n      â†’ Indices de caractÃ¨res\r\n\r\n3. DANS LE DATASET\r\n   â”‚\r\n   â”œâ”€ Image: (1, 128, 128)\r\n   â”‚  Tensor dans [-1, 1]\r\n   â”‚  â†’ Image PIL convertie\r\n   â”‚\r\n   â””â”€ Text: (20,)\r\n      [idx1, idx2, ..., 0, 0, 0]\r\n      â†’ Indices padding Ã  20\r\n\r\n4. ENTRÃ‰E DU GAN\r\n   â”‚\r\n   â”œâ”€ Noise: (B, 100)\r\n   â”‚  â†’ Vecteur alÃ©atoire\r\n   â”‚\r\n   â””â”€ Text: (B, 20)\r\n      â†’ Indices de caractÃ¨res\r\n\r\n5. SORTIE DU GAN\r\n   â”‚\r\n   â””â”€ Image: (B, 1, 128, 128)\r\n      â†’ Tensor dans [-1, 1]\r\n```\r\n\r\n---\r\n\r\n## Workflow Utilisateur\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    WORKFLOW UTILISATEUR                         â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nUTILISATEUR\r\n    â”‚\r\n    â”œâ”€ Option 1: Interface Streamlit (Rendu stylisÃ©)\r\n    â”‚  â”‚\r\n    â”‚  â””â”€ streamlit_app.py\r\n    â”‚     â”‚\r\n    â”‚     â”œâ”€ Saisie texte\r\n    â”‚     â”œâ”€ Choix police\r\n    â”‚     â”œâ”€ ParamÃ¨tres style\r\n    â”‚     â””â”€ GÃ©nÃ©ration instantanÃ©e\r\n    â”‚\r\n    â”œâ”€ Option 2: Interface MÃ©triques Streamlit\r\n    â”‚  â”‚\r\n    â”‚  â””â”€ streamlit_metrics.py\r\n    â”‚     â”‚\r\n    â”‚     â”œâ”€ Chargement images\r\n    â”‚     â”œâ”€ Calcul mÃ©triques\r\n    â”‚     â””â”€ Visualisation rÃ©sultats\r\n    â”‚\r\n    â”œâ”€ Option 3: Scripts Python Interactifs\r\n    â”‚  â”‚\r\n    â”‚  â”œâ”€ calculate_metrics.py\r\n    â”‚  â”‚  â””â”€ Script interactif guidÃ©\r\n    â”‚  â”‚\r\n    â”‚  â”œâ”€ quick_metrics.py\r\n    â”‚  â”‚  â””â”€ Script rapide (chemins en dur)\r\n    â”‚  â”‚\r\n    â”‚  â””â”€ evaluate_metrics.py\r\n    â”‚     â””â”€ Script avancÃ© (ligne de commande)\r\n    â”‚\r\n    â””â”€ Option 4: Scripts de PrÃ©paration\r\n       â”‚\r\n       â”œâ”€ prepare_data.py\r\n       â”‚  â””â”€ PrÃ©paration dataset IAM\r\n       â”‚\r\n       â”œâ”€ check_data.py\r\n       â”‚  â””â”€ VÃ©rification donnÃ©es\r\n       â”‚\r\n       â”œâ”€ check_data_rendering.py\r\n       â”‚  â””â”€ VÃ©rification rendu strokes\r\n       â”‚\r\n       â”œâ”€ diag_collect_stats.py\r\n       â”‚  â””â”€ Statistiques dataset\r\n       â”‚\r\n       â””â”€ diag_prepare.py\r\n          â””â”€ Diagnostic prÃ©paration\r\n```\r\n\r\n---\r\n\r\n## Architecture ComplÃ¨te du Projet\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    COMPOSANTS DU PROJET                         â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\n1. PRÃ‰PARATION DES DONNÃ‰ES\r\n   â”‚\r\n   â”œâ”€ prepare_data.py\r\n   â”‚  â””â”€ Extraction et normalisation dataset IAM\r\n   â”‚\r\n   â”œâ”€ check_data.py\r\n   â”‚  â””â”€ VÃ©rification fichiers .npy\r\n   â”‚\r\n   â”œâ”€ check_data_rendering.py\r\n   â”‚  â””â”€ Visualisation strokes â†’ images\r\n   â”‚\r\n   â”œâ”€ diag_collect_stats.py\r\n   â”‚  â””â”€ Collecte statistiques dataset\r\n   â”‚\r\n   â””â”€ diag_prepare.py\r\n      â””â”€ Diagnostic processus prÃ©paration\r\n\r\n2. MODÃˆLES DE GÃ‰NÃ‰RATION\r\n   â”‚\r\n   â”œâ”€ GAN (Conditionnel)\r\n   â”‚  â”œâ”€ model.py (Generator + Discriminator)\r\n   â”‚  â”œâ”€ dataset.py (IAMDataset PyTorch)\r\n   â”‚  â”œâ”€ train.py (EntraÃ®nement)\r\n   â”‚  â””â”€ app.py (Interface Streamlit)\r\n   â”‚\r\n   â”œâ”€ RNN/LSTM\r\n   â”‚  â”œâ”€ rnn.py (ModÃ¨le RNN principal)\r\n   â”‚  â”œâ”€ rnn_cell.py (Cellule LSTM avec attention)\r\n   â”‚  â””â”€ rnn_ops.py (OpÃ©rations RNN)\r\n   â”‚\r\n   â””â”€ TensorFlow (Alternative)\r\n      â”œâ”€ tf_base_model.py\r\n      â””â”€ tf_utils.py\r\n\r\n3. RENDU ET VISUALISATION\r\n   â”‚\r\n   â”œâ”€ drawing.py\r\n   â”‚  â””â”€ Utilitaires conversion strokes â†’ images\r\n   â”‚\r\n   â””â”€ handwriting_renderer.py\r\n      â””â”€ Rendu stylisÃ© avec polices\r\n\r\n4. Ã‰VALUATION ET MÃ‰TRIQUES\r\n   â”‚\r\n   â”œâ”€ metrics.py\r\n   â”‚  â””â”€ ImplÃ©mentation toutes les mÃ©triques\r\n   â”‚\r\n   â”œâ”€ calculate_metrics.py\r\n   â”‚  â””â”€ Script interactif guidÃ©\r\n   â”‚\r\n   â”œâ”€ quick_metrics.py\r\n   â”‚  â””â”€ Script rapide\r\n   â”‚\r\n   â”œâ”€ evaluate_metrics.py\r\n   â”‚  â””â”€ Script avancÃ© CLI\r\n   â”‚\r\n   â”œâ”€ streamlit_metrics.py\r\n   â”‚  â””â”€ Interface Streamlit mÃ©triques\r\n   â”‚\r\n   â””â”€ prepare_evaluation_data.py\r\n      â””â”€ GÃ©nÃ©ration paires (rÃ©el, gÃ©nÃ©rÃ©)\r\n\r\n5. INTERFACES UTILISATEUR\r\n   â”‚\r\n   â”œâ”€ streamlit_app.py\r\n   â”‚  â””â”€ Interface principale (rendu stylisÃ©)\r\n   â”‚\r\n   â””â”€ streamlit_metrics.py\r\n      â””â”€ Interface mÃ©triques\r\n\r\n6. UTILITAIRES\r\n   â”‚\r\n   â”œâ”€ data_frame.py\r\n   â”‚  â””â”€ Gestion donnÃ©es (analogue pandas)\r\n   â”‚\r\n   â””â”€ METRICS_GUIDE.md\r\n      â””â”€ Documentation mÃ©triques\r\n```\r\n\r\n---\r\n\r\n## Pipeline d'Ã‰valuation Complet\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚              PIPELINE D'Ã‰VALUATION MULTI-MÃ‰THODES               â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\n1. PRÃ‰PARATION DES DONNÃ‰ES D'Ã‰VALUATION\r\n   â”‚\r\n   â””â”€ prepare_evaluation_data.py\r\n      â”‚\r\n      â”œâ”€ Charger donnÃ©es IAM\r\n      â”œâ”€ GÃ©nÃ©rer images RÃ‰ELLES (strokes)\r\n      â”œâ”€ GÃ©nÃ©rer images GÃ‰NÃ‰RÃ‰ES (rendu stylisÃ©)\r\n      â””â”€ Sauvegarder dans evaluation/real/ et evaluation/gen/\r\n\r\n2. CALCUL DES MÃ‰TRIQUES (4 mÃ©thodes disponibles)\r\n   â”‚\r\n   â”œâ”€ MÃ©thode 1: Script Interactif â­ RECOMMANDÃ‰\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ calculate_metrics.py\r\n   â”‚     â”‚\r\n   â”‚     â”œâ”€ Guide interactif\r\n   â”‚     â”œâ”€ Chargement images\r\n   â”‚     â”œâ”€ Calcul automatique\r\n   â”‚     â””â”€ Affichage rÃ©sultats\r\n   â”‚\r\n   â”œâ”€ MÃ©thode 2: Interface Streamlit ğŸ¨\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ streamlit_metrics.py\r\n   â”‚     â”‚\r\n   â”‚     â”œâ”€ Interface graphique\r\n   â”‚     â”œâ”€ AperÃ§u images\r\n   â”‚     â”œâ”€ Calcul en un clic\r\n   â”‚     â””â”€ Export JSON\r\n   â”‚\r\n   â”œâ”€ MÃ©thode 3: Script Rapide âš¡\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ quick_metrics.py\r\n   â”‚     â”‚\r\n   â”‚     â”œâ”€ Chemins en dur ou variables d'environnement\r\n   â”‚     â”œâ”€ Calcul rapide\r\n   â”‚     â””â”€ Bon pour automatisation\r\n   â”‚\r\n   â””â”€ MÃ©thode 4: Script AvancÃ© ğŸ”§\r\n      â”‚\r\n      â””â”€ evaluate_metrics.py\r\n         â”‚\r\n         â”œâ”€ Options ligne de commande\r\n         â”œâ”€ Toutes les options disponibles\r\n         â””â”€ Export JSON personnalisÃ©\r\n\r\n3. MÃ‰TRIQUES CALCULÃ‰ES\r\n   â”‚\r\n   â”œâ”€ QualitÃ© Visuelle:\r\n   â”‚  â”œâ”€ FID (FrÃ©chet Inception Distance)\r\n   â”‚  â””â”€ KID (Kernel Inception Distance)\r\n   â”‚\r\n   â”œâ”€ Reconnaissance Texte:\r\n   â”‚  â”œâ”€ CER (Character Error Rate)\r\n   â”‚  â”œâ”€ WER (Word Error Rate)\r\n   â”‚  â””â”€ OCR Accuracy\r\n   â”‚\r\n   â””â”€ SimilaritÃ©:\r\n      â”œâ”€ SSIM (Structural Similarity)\r\n      â”œâ”€ PSNR (Peak Signal-to-Noise Ratio)\r\n      â””â”€ LPIPS (Learned Perceptual Similarity)\r\n\r\n4. RAPPORTS\r\n   â”‚\r\n   â””â”€ Sauvegarde JSON\r\n      â”œâ”€ metrics_results.json\r\n      â””â”€ metrics_results_full.json\r\n```\r\n\r\n---\r\n\r\n## Pipeline RNN/LSTM (Alternative)\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    PIPELINE RNN/LSTM                           â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nInput: Texte\r\n   â”‚\r\n   â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  ENCODAGE TEXTE                                              â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  Texte â†’ Indices caractÃ¨res                                 â”‚\r\nâ”‚  â†’ Embedding                                                â”‚\r\nâ”‚                                                              â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n   â”‚\r\n   â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  RNN/LSTM AVEC ATTENTION                                      â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  rnn.py:                                                     â”‚\r\nâ”‚  â”œâ”€ LSTMAttentionCell                                       â”‚\r\nâ”‚  â”œâ”€ Attention mechanism                                     â”‚\r\nâ”‚  â””â”€ SÃ©quence â†’ SÃ©quence                                     â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  rnn_cell.py:                                                â”‚\r\nâ”‚  â””â”€ ImplÃ©mentation cellule LSTM                             â”‚\r\nâ”‚                                                              â”‚\r\nâ”‚  rnn_ops.py:                                                 â”‚\r\nâ”‚  â””â”€ OpÃ©rations RNN optimisÃ©es                               â”‚\r\nâ”‚                                                              â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n   â”‚\r\n   â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  GÃ‰NÃ‰RATION STROKES                                          â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  Output: SÃ©quences de strokes [dx, dy, eos]                â”‚\r\nâ”‚                                                              â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n   â”‚\r\n   â–¼\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚  CONVERSION STROKES â†’ IMAGE                                  â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                                                              â”‚\r\nâ”‚  drawing.draw()                                              â”‚\r\nâ”‚  â””â”€ Rendu image depuis strokes                              â”‚\r\nâ”‚                                                              â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n   â”‚\r\n   â–¼\r\nOutput: Image d'Ã©criture manuscrite\r\n```\r\n\r\n---\r\n\r\n## Structure ComplÃ¨te des Fichiers\r\n\r\n```\r\nGEN - Copie/\r\nâ”‚\r\nâ”œâ”€â”€ data/\r\nâ”‚   â”œâ”€â”€ raw/                    # Dataset IAM brut\r\nâ”‚   â”‚   â”œâ”€â”€ ascii/\r\nâ”‚   â”‚   â”œâ”€â”€ lineStrokes/\r\nâ”‚   â”‚   â””â”€â”€ original-xml/\r\nâ”‚   â”‚\r\nâ”‚   â”œâ”€â”€ processed/              # DonnÃ©es prÃ©processÃ©es\r\nâ”‚   â”‚   â”œâ”€â”€ x.npy               # Strokes\r\nâ”‚   â”‚   â”œâ”€â”€ x_len.npy           # Longueurs strokes\r\nâ”‚   â”‚   â”œâ”€â”€ c.npy               # Transcriptions\r\nâ”‚   â”‚   â”œâ”€â”€ c_len.npy           # Longueurs textes\r\nâ”‚   â”‚   â””â”€â”€ w_id.npy            # IDs Ã©crivains\r\nâ”‚   â”‚\r\nâ”‚   â”œâ”€â”€ dataset.py              # Dataset personnalisÃ©\r\nâ”‚   â””â”€â”€ all_datasets.pickle     # Cache datasets\r\nâ”‚\r\nâ”œâ”€â”€ words/                      # Images PNG (source alternative)\r\nâ”‚   â””â”€â”€ [a01, a02, ..., r06]/  # Dossiers par Ã©crivain\r\nâ”‚\r\nâ”œâ”€â”€ evaluation/\r\nâ”‚   â”œâ”€â”€ real/                  # Images rÃ©elles\r\nâ”‚   â””â”€â”€ gen/                   # Images gÃ©nÃ©rÃ©es\r\nâ”‚\r\nâ”œâ”€â”€ debug_render/              # Images de debug\r\nâ”‚\r\nâ”œâ”€â”€ logs/                      # Fichiers de logs\r\nâ”‚\r\nâ”œâ”€â”€ PRÃ‰PARATION DES DONNÃ‰ES\r\nâ”‚   â”œâ”€â”€ prepare_data.py        # PrÃ©paration principale\r\nâ”‚   â”œâ”€â”€ check_data.py          # VÃ©rification donnÃ©es\r\nâ”‚   â”œâ”€â”€ check_data_rendering.py # VÃ©rification rendu\r\nâ”‚   â”œâ”€â”€ diag_collect_stats.py  # Statistiques\r\nâ”‚   â””â”€â”€ diag_prepare.py        # Diagnostic\r\nâ”‚\r\nâ”œâ”€â”€ MODÃˆLES\r\nâ”‚   â”œâ”€â”€ GAN/\r\nâ”‚   â”‚   â”œâ”€â”€ model.py            # Generator + Discriminator\r\nâ”‚   â”‚   â”œâ”€â”€ dataset.py          # IAMDataset\r\nâ”‚   â”‚   â”œâ”€â”€ train.py            # EntraÃ®nement\r\nâ”‚   â”‚   â”œâ”€â”€ app.py              # Interface Streamlit\r\nâ”‚   â”‚   â”œâ”€â”€ checkpoints/        # ModÃ¨les entraÃ®nÃ©s\r\nâ”‚   â”‚   â””â”€â”€ samples/            # Ã‰chantillons gÃ©nÃ©rÃ©s\r\nâ”‚   â”‚\r\nâ”‚   â”œâ”€â”€ rnn.py                  # ModÃ¨le RNN principal\r\nâ”‚   â”œâ”€â”€ rnn_cell.py             # Cellule LSTM\r\nâ”‚   â”œâ”€â”€ rnn_ops.py              # OpÃ©rations RNN\r\nâ”‚   â”œâ”€â”€ tf_base_model.py        # ModÃ¨le TensorFlow\r\nâ”‚   â””â”€â”€ tf_utils.py              # Utilitaires TensorFlow\r\nâ”‚\r\nâ”œâ”€â”€ RENDU\r\nâ”‚   â”œâ”€â”€ drawing.py              # Utilitaires strokes\r\nâ”‚   â””â”€â”€ handwriting_renderer.py # Rendu stylisÃ©\r\nâ”‚\r\nâ”œâ”€â”€ Ã‰VALUATION\r\nâ”‚   â”œâ”€â”€ metrics.py              # ImplÃ©mentation mÃ©triques\r\nâ”‚   â”œâ”€â”€ calculate_metrics.py    # Script interactif\r\nâ”‚   â”œâ”€â”€ quick_metrics.py         # Script rapide\r\nâ”‚   â”œâ”€â”€ evaluate_metrics.py     # Script avancÃ©\r\nâ”‚   â”œâ”€â”€ prepare_evaluation_data.py # PrÃ©paration Ã©valuation\r\nâ”‚   â””â”€â”€ streamlit_metrics.py        # Interface Streamlit\r\nâ”‚\r\nâ”œâ”€â”€ INTERFACES\r\nâ”‚   â”œâ”€â”€ streamlit_app.py        # Interface principale\r\nâ”‚   â””â”€â”€ streamlit_metrics.py    # Interface mÃ©triques\r\nâ”‚\r\nâ”œâ”€â”€ UTILITAIRES\r\nâ”‚   â”œâ”€â”€ data_frame.py            # Gestion donnÃ©es\r\nâ”‚   â””â”€â”€ requirements.txt         # DÃ©pendances\r\nâ”‚\r\nâ””â”€â”€ DOCUMENTATION\r\n    â”œâ”€â”€ ARCHITECTURE_GUIDE.md   # Guide architecture\r\n    â”œâ”€â”€ PIPELINE_DIAGRAM.md      # Ce fichier\r\n    â””â”€â”€ METRICS_GUIDE.md         # Guide mÃ©triques\r\n```\r\n\r\n---\r\n\r\n## Comparaison des Trois Approches\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚          GAN vs RENDU STYLISÃ‰ vs RNN/LSTM                       â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚   GAN (cGAN)         â”‚  â”‚  RENDU STYLISÃ‰       â”‚  â”‚   RNN/LSTM           â”‚\r\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\r\nâ”‚                      â”‚  â”‚                      â”‚  â”‚                      â”‚\r\nâ”‚ âœ“ Style variable     â”‚  â”‚ âœ“ ContrÃ´le prÃ©cis    â”‚  â”‚ âœ“ GÃ©nÃ©ration sÃ©quentielleâ”‚\r\nâ”‚ âœ“ Apprentissage      â”‚  â”‚ âœ“ Rapide             â”‚  â”‚ âœ“ ModÃ¨le temporel    â”‚\r\nâ”‚ âœ“ RÃ©aliste           â”‚  â”‚ âœ“ Pas d'entraÃ®nementâ”‚  â”‚ âœ“ Attention mechanismâ”‚\r\nâ”‚ âœ“ Images directes    â”‚  â”‚ âœ“ Personnalisable   â”‚  â”‚ âœ“ Strokes naturels   â”‚\r\nâ”‚                      â”‚  â”‚                      â”‚  â”‚                      â”‚\r\nâ”‚ âœ— NÃ©cessite          â”‚  â”‚ âœ— Style limitÃ©       â”‚  â”‚ âœ— NÃ©cessite          â”‚\r\nâ”‚   entraÃ®nement       â”‚  â”‚ âœ— Moins rÃ©aliste     â”‚  â”‚   entraÃ®nement       â”‚\r\nâ”‚ âœ— Lent (inference)   â”‚  â”‚    (selon police)    â”‚  â”‚ âœ— Plus complexe      â”‚\r\nâ”‚ âœ— Moins contrÃ´lable â”‚  â”‚                      â”‚  â”‚ âœ— Conversion requise â”‚\r\nâ”‚                      â”‚  â”‚                      â”‚  â”‚   (strokesâ†’image)    â”‚\r\nâ”‚                      â”‚  â”‚                      â”‚  â”‚                      â”‚\r\nâ”‚ Utilisation:         â”‚  â”‚ Utilisation:         â”‚  â”‚ Utilisation:         â”‚\r\nâ”‚ - GÃ©nÃ©ration         â”‚  â”‚ - Prototypage       â”‚  â”‚ - GÃ©nÃ©ration         â”‚\r\nâ”‚   crÃ©ative           â”‚  â”‚ - Applications       â”‚  â”‚   sÃ©quentielle      â”‚\r\nâ”‚ - Style unique       â”‚  â”‚   production         â”‚  â”‚ - ModÃ©lisation       â”‚\r\nâ”‚ - Images haute       â”‚  â”‚ - Personnalisation  â”‚  â”‚   temporelle         â”‚\r\nâ”‚   qualitÃ©            â”‚  â”‚                      â”‚  â”‚ - Recherche          â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n```\r\n\r\n---\r\n\r\n## Pipeline de Diagnostic et VÃ©rification\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚              OUTILS DE DIAGNOSTIC ET VÃ‰RIFICATION              â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\n1. VÃ‰RIFICATION DES DONNÃ‰ES\r\n   â”‚\r\n   â”œâ”€ check_data.py\r\n   â”‚  â”‚\r\n   â”‚  â”œâ”€ VÃ©rifie existence data/processed/\r\n   â”‚  â”œâ”€ Liste fichiers .npy prÃ©sents\r\n   â”‚  â”œâ”€ VÃ©rifie shapes et dtypes\r\n   â”‚  â””â”€ Affiche statut de chaque fichier\r\n   â”‚\r\n   â””â”€ check_data_rendering.py\r\n      â”‚\r\n      â”œâ”€ Charge x.npy et x_len.npy\r\n      â”œâ”€ Convertit strokes â†’ images\r\n      â”œâ”€ Sauvegarde Ã©chantillons dans debug_render/\r\n      â””â”€ Permet vÃ©rification visuelle\r\n\r\n2. STATISTIQUES ET DIAGNOSTIC\r\n   â”‚\r\n   â”œâ”€ diag_collect_stats.py\r\n   â”‚  â”‚\r\n   â”‚  â”œâ”€ Parcourt dataset IAM\r\n   â”‚  â”œâ”€ Collecte statistiques:\r\n   â”‚  â”‚  â”œâ”€ Nombre fichiers ASCII\r\n   â”‚  â”‚  â”œâ”€ Correspondances strokes\r\n   â”‚  â”‚  â”œâ”€ Fichiers XML originaux\r\n   â”‚  â”‚  â””â”€ Erreurs de correspondance\r\n   â”‚  â””â”€ Affiche exemples d'erreurs\r\n   â”‚\r\n   â””â”€ diag_prepare.py\r\n      â”‚\r\n      â””â”€ Diagnostic processus prepare_data.py\r\n\r\n3. UTILISATION TYPIQUE\r\n   â”‚\r\n   â”œâ”€ AprÃ¨s prepare_data.py:\r\n   â”‚  â””â”€ python check_data.py\r\n   â”‚     â†’ VÃ©rifier que les fichiers sont corrects\r\n   â”‚\r\n   â”œâ”€ Pour visualiser les donnÃ©es:\r\n   â”‚  â””â”€ python check_data_rendering.py\r\n   â”‚     â†’ GÃ©nÃ¨re images dans debug_render/\r\n   â”‚\r\n   â””â”€ Pour diagnostiquer problÃ¨mes:\r\n      â””â”€ python diag_collect_stats.py\r\n         â†’ Identifie problÃ¨mes de correspondance\r\n```\r\n\r\n---\r\n\r\n## Workflow Complet RecommandÃ©\r\n\r\n```\r\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\r\nâ”‚                    WORKFLOW COMPLET                             â”‚\r\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\r\n\r\nÃ‰TAPE 1: PRÃ‰PARATION INITIALE\r\n   â”‚\r\n   â”œâ”€ 1.1 VÃ©rifier dataset IAM\r\n   â”‚  â””â”€ python prepare_data.py\r\n   â”‚     â†’ VÃ©rifie existence et structure\r\n   â”‚\r\n   â”œâ”€ 1.2 PrÃ©parer les donnÃ©es\r\n   â”‚  â””â”€ python prepare_data.py\r\n   â”‚     â†’ GÃ©nÃ¨re data/processed/*.npy\r\n   â”‚\r\n   â”œâ”€ 1.3 VÃ©rifier les donnÃ©es\r\n   â”‚  â””â”€ python check_data.py\r\n   â”‚     â†’ Confirme que tout est OK\r\n   â”‚\r\n   â””â”€ 1.4 Visualiser Ã©chantillons\r\n      â””â”€ python check_data_rendering.py\r\n         â†’ VÃ©rifie visuellement le rendu\r\n\r\nÃ‰TAPE 2: ENTRAÃNEMENT (Optionnel)\r\n   â”‚\r\n   â”œâ”€ 2.1 EntraÃ®ner GAN\r\n   â”‚  â””â”€ cd GAN && python train.py --epochs 100\r\n   â”‚\r\n   â””â”€ 2.2 EntraÃ®ner RNN/LSTM\r\n      â””â”€ python rnn.py [options]\r\n\r\nÃ‰TAPE 3: GÃ‰NÃ‰RATION\r\n   â”‚\r\n   â”œâ”€ 3.1 Interface Streamlit (Rendu stylisÃ©)\r\n   â”‚  â””â”€ streamlit run streamlit_app.py\r\n   â”‚\r\n   â”œâ”€ 3.2 Interface GAN (si entraÃ®nÃ©)\r\n   â”‚  â””â”€ streamlit run GAN/app.py\r\n   â”‚\r\n   â””â”€ 3.3 Scripts Python\r\n      â””â”€ GÃ©nÃ©ration programmatique\r\n\r\nÃ‰TAPE 4: Ã‰VALUATION\r\n   â”‚\r\n   â”œâ”€ 4.1 PrÃ©parer donnÃ©es Ã©valuation\r\n   â”‚  â””â”€ python prepare_evaluation_data.py\r\n   â”‚\r\n   â”œâ”€ 4.2 Calculer mÃ©triques\r\n   â”‚  â”‚\r\n   â”‚  â”œâ”€ Option A: Interactif\r\n   â”‚  â”‚  â””â”€ python calculate_metrics.py\r\n   â”‚  â”‚\r\n   â”‚  â”œâ”€ Option B: Interface graphique\r\n   â”‚  â”‚  â””â”€ streamlit run streamlit_metrics.py\r\n   â”‚  â”‚\r\n   â”‚  â”œâ”€ Option C: Rapide\r\n   â”‚  â”‚  â””â”€ python quick_metrics.py\r\n   â”‚  â”‚\r\n   â”‚  â””â”€ Option D: AvancÃ©\r\n   â”‚     â””â”€ python evaluate_metrics.py --real_dir ... --gen_dir ...\r\n   â”‚\r\n   â””â”€ 4.3 Analyser rÃ©sultats\r\n      â””â”€ Consulter metrics_results.json\r\n```\r\n\r\n---\r\n\r\nCe diagramme complÃ¨te le guide d'architecture en fournissant des reprÃ©sentations visuelles du pipeline complet du projet, incluant tous les composants disponibles, les outils de diagnostic, et les workflows recommandÃ©s.\r\n\r\n",
  "toolName": "auto-backup",
  "toolInput": {
    "file_path": "pipline.md",
    "trigger": "local-change"
  },
  "metadata": {
    "lineCount": 1011,
    "characterCount": 34348,
    "fileSize": 49231,
    "language": "markdown",
    "mimeType": "text/plain",
    "contentHash": "806048d51a0459dd422838b42e41535539e7aaf96ac84253b6be15889b82d78f"
  },
  "backupType": "auto-local-change",
  "checkpointLabel": "File modified: pipline.md"
}